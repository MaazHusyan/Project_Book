INFO:     Will watch for changes in these directories: ['/home/maaz/Desktop/Robotics-Book']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [60843] using StatReload
/home/maaz/Desktop/Robotics-Book/backend/src/retrieval/utils/qdrant_retriever.py:22: UserWarning: Api key is used with an insecure connection.
  self.client = QdrantClient(
INFO:     Started server process [60850]
INFO:     Waiting for application startup.
2025-12-18 13:33:10,091 - backend.main - INFO - Starting RAG Chatbot application...
INFO:     Application startup complete.
2025-12-18 13:36:32,094 - src.retrieval.api.retrieval_endpoint - INFO - API request received for single retrieval | Query: What is forward kinematics in robotics?...
2025-12-18 13:36:32,094 - src.retrieval.services.retrieval_service - INFO - Starting content retrieval for query: What is forward kinematics in robotics?...
2025-12-18 13:36:33,028 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-12-18 13:36:34,311 - src.retrieval.utils.qdrant_retriever - ERROR - Error during Qdrant search: Failed to generate embedding: Jina API error: 401 - {"detail":"[RID: dd5f0dd318f5a2acf204a4b44b9ce9cb] Invalid API key"}
2025-12-18 13:36:34,314 - src.retrieval.api.retrieval_endpoint - ERROR - Unexpected error in API request: Failed to generate embedding: Jina API error: 401 - {"detail":"[RID: dd5f0dd318f5a2acf204a4b44b9ce9cb] Invalid API key"} | Total time: 2.217s | Query: What is forward kinematics in robotics?...
Traceback (most recent call last):
  File "/home/maaz/Desktop/Robotics-Book/backend/src/embedding/services/jina_service.py", line 92, in generate_embedding
    raise EmbeddingGenerationError(f"Jina API error: {response.status_code} - {response.text}")
src.embedding.exceptions.EmbeddingGenerationError: Jina API error: 401 - {"detail":"[RID: dd5f0dd318f5a2acf204a4b44b9ce9cb] Invalid API key"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/maaz/Desktop/Robotics-Book/backend/src/retrieval/api/retrieval_endpoint.py", line 151, in retrieve_content
    results = await retrieval_service.retrieve_content(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/maaz/Desktop/Robotics-Book/backend/src/retrieval/services/retrieval_service.py", line 109, in retrieve_content
    results = await self.qdrant_retriever.search(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/maaz/Desktop/Robotics-Book/backend/src/retrieval/utils/qdrant_retriever.py", line 54, in search
    query_embedding_result = await embedding_service.generate_embedding(query_text)
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/home/maaz/Desktop/Robotics-Book/backend/src/embedding/services/jina_service.py", line 114, in generate_embedding
    raise EmbeddingGenerationError(f"Failed to generate embedding: {str(e)}")
src.embedding.exceptions.EmbeddingGenerationError: Failed to generate embedding: Jina API error: 401 - {"detail":"[RID: dd5f0dd318f5a2acf204a4b44b9ce9cb] Invalid API key"}

INFO:     127.0.0.1:36356 - "POST /api/v1/retrieve HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:51698 - "GET /api/v1/retrieve HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:51698 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:46026 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:46026 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53058 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:53058 - "GET /openapi.json HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'test_qdrant_retrieval.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-18 13:48:14,477 - backend.main - INFO - Shutting down RAG Chatbot application...
INFO:     Application shutdown complete.
INFO:     Finished server process [60850]
/home/maaz/Desktop/Robotics-Book/backend/src/retrieval/utils/qdrant_retriever.py:22: UserWarning: Api key is used with an insecure connection.
  self.client = QdrantClient(
INFO:     Started server process [65839]
INFO:     Waiting for application startup.
2025-12-18 13:48:18,875 - backend.main - INFO - Starting RAG Chatbot application...
INFO:     Application startup complete.
